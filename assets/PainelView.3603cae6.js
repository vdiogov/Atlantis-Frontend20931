import{_ as v,u as d,o as u,c as h,a as t,F as c,r as _,b as g,t as o}from"./index.5ebd602f.js";const f={data(){return{senhas:[],senhasold:[],senhas2:[],senhas2old:[]}},methods:{getBuzz(){var r=new Audio("bell.wav");r.play()},getNormal(){const r=d();this.axios.get("https://atlantis-backend20931.herokuapp.com/queue/").then(e=>{for(var l=[],a=0;a<e.data.results.length;a++){var s={};s.senha=e.data.results[a].numero,s.buzz=e.data.results[a].buzz,s.guiche=e.data.results[a].guiche,s.url=e.data.results[a].url;var i=new Date(e.data.results[a].updated_at);s.data=i.toLocaleString(),l.push(s)}this.senhas=l,JSON.stringify(this.senhas[0])!==JSON.stringify(this.senhasold[0])&&(this.senhasold=l,this.getBuzz(),r.info("Senha normal: "+l[0].senha+" Guiche: "+l[0].guiche,{timeout:5e3}))}).catch(function(e){console.log(e)})},getSpecial(){const r=d();this.axios.get("https://atlantis-backend20931.herokuapp.com/queuespecial/").then(e=>{for(var l=[],a=0;a<e.data.results.length;a++){var s={};s.senha=e.data.results[a].numero,s.buzz=e.data.results[a].buzz,s.guiche=e.data.results[a].guiche,s.url=e.data.results[a].url;var i=new Date(e.data.results[a].updated_at);s.data=i.toLocaleString(),l.push(s)}this.senhas2=l,JSON.stringify(this.senhas2[0])!==JSON.stringify(this.senhas2old[0])&&(this.senhas2old=l,this.getBuzz(),r.success("Senha preferencial: "+l[0].senha+" Guiche: "+l[0].guiche,{timeout:5e3}))}).catch(function(e){console.log(e)})},reNew(){this.getNormal(),this.getSpecial()}},mounted(){this.reNew()},created(){this.interval=setInterval(()=>{this.reNew()},2e3)},destroyed(){clearInterval(this.interval)}},p={class:"conteiner"},z=t("div",{class:"painel"},[t("h1",null,"Atendimento")],-1),S={class:"painel2"},y={class:"queue1"},N=t("h2",null,"Normal",-1),b=t("tr",null,[t("td",null,"Senha"),t("td",null,"Guiche"),t("td",null,"Data/Hora")],-1),m={key:0,style:{"border-left":"1px solid #9F9F9F",height:"auto",margin:"20px"}},w={key:1,class:"queue2"},k=t("h2",null,"Preferencial",-1),x=t("tr",null,[t("td",null,"Senha"),t("td",null,"Guiche"),t("td",null,"Data/Hora")],-1);function B(r,e,l,a,s,i){return u(),h("div",p,[z,t("div",S,[t("div",y,[N,t("table",null,[b,(u(!0),h(c,null,_(s.senhas,n=>(u(),h("tr",null,[t("td",null,o(n.senha),1),t("td",null,o(n.guiche),1),t("td",null,o(n.data),1)]))),256))])]),this.senhas2.length!=0?(u(),h("div",m)):g("",!0),this.senhas2.length!=0?(u(),h("div",w,[k,t("table",null,[x,(u(!0),h(c,null,_(s.senhas2,n=>(u(),h("tr",null,[t("td",null,o(n.senha),1),t("td",null,o(n.guiche),1),t("td",null,o(n.data),1)]))),256))])])):g("",!0)])])}const F=v(f,[["render",B]]);export{F as default};
